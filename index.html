<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>AR viewer test site</title>

  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="stylesheet" href="/assets/css/print.css" media="print">

  <meta name="description" content="Page description">
  <meta property="og:title" content="Unique page title - My Site">
  <meta property="og:description" content="Page description">
  <meta property="og:image" content="https://www.mywebsite.com/image.jpg">
  <meta property="og:image:alt" content="Image description">
  <meta property="og:locale" content="en_GB">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:url" content="https://www.mywebsite.com/page">
  <link rel="canonical" href="https://www.mywebsite.com/page">

  <link rel="icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/my.webmanifest">
  <meta name="theme-color" content="#FF00FF">
  
  <style>
    body{
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    section{
      position: relative;
      display: flex;
      max-width: 500px;
      gap: 40px;
    }
    .product{
      position: relative;
      flex: 1;
      width: 100%;
    }
    img{
      width: 100%;
    }
  </style>
  
</head>

<body>
  <h1 id="title"></h1>
  
  <section>
    
    <div class="product">
      <a  id="ar-link-stratocaster" rel="ar"
          href="https://staus.github.io/ar-view/fender_stratocaster.usdz#custom=https://staus.github.io/ar-view/banner-button-stratocaster.html&customHeight=large">
          <img src="https://staus.github.io/ar-view/stratocaster_2x.jpg">
      </a>
    </div>
    
    <div class="product">
      <a  id="ar-link-gramophone" rel="ar"
          href="https://staus.github.io/ar-view/gramophone.usdz#custom=https://staus.github.io/ar-view/banner-button-gramophone.html&customHeight=small">
          <img src="https://staus.github.io/ar-view/gramophone_2x.jpg">
      </a>
    </div>
    
  </section>
  
  <script>
    const stratocaster = document.getElementById("ar-link-stratocaster");
    
    stratocaster.addEventListener("message", function (event) {   
      if (event.data == "_apple_ar_quicklook_button_tapped") {
        document.getElementById("title").textContent = "Bye bye stratocaster!";
        console.log("stratocaster button clicked");
        window.open("https://www.gear4music.dk/da/Guitar-og-bas/Fender-Vintera-60s-Stratocaster-PF-3-Tone-Sunburst/2ZSV");
      }
    }, false);
    
    const gramophone = document.getElementById("ar-link-gramophone");
    
    gramophone.addEventListener("message", function (event) {   
      if (event.data == "_apple_ar_quicklook_button_tapped") {
        document.getElementById("title").textContent = "Bye bye gramophone!";
        console.log("gramophone button clicked");
        window.open("https://www.boligcenter.dk/hjem-have/belysning/grammofoner/grammofon-ottekantet-old-style-samling-by-homania");
      }
    }, false);
    
    const hash = new URL(document.URL).hash
    console.log("Hash", hash);
    if (hash != "") {
      const link = document.getElementById("ar-link-" + hash)
      console.log("Link", link);
      if (link) {
        link.click()
      }
    }
  </script>
  
</body>
</html>
